<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>bootstrap-modal.js - BootStrap-DevExpress API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="BootStrap-DevExpress API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.001(alpha)</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Modal.html">Modal</a></li>
            
                <li><a href="../classes/NavBar.html">NavBar</a></li>
            
                <li><a href="../classes/Splitter.html">Splitter</a></li>
            
                <li><a href="../classes/Tab.html">Tab</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/Modal.html">Modal</a></li>
            
                <li><a href="../modules/NavBar.html">NavBar</a></li>
            
                <li><a href="../modules/Splitter.html">Splitter</a></li>
            
                <li><a href="../modules/Tab.html">Tab</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: bootstrap-modal.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/* =========================================================
 * bootstrap-modal.js v2.3.2
 * http://getbootstrap.com/2.3.2/javascript.html#modals
 * =========================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

 /**
  * js插件:模态窗口
  * @module Modal
  */


!function ($) {

  &quot;use strict&quot;; // jshint ;_;
  
  /**
   * 当show方法被调用时，此事件将被立即触发
   * @event show
   * @param {jQuery.Event} ev 事件对象
   * @example
   * &#x60;&#x60;&#x60;javasctipt
   *   $(sSign).on(&#x27;show&#x27;, function (ev){});
   * &#x60;&#x60;&#x60;
   */

  /**
   * 当模态对话框呈现完毕时（会等待过渡效果执行结束）触发
   * @event shown
   * @param {jQuery.Event} ev 事件对象
   * @example
   * &#x60;&#x60;&#x60;javascript
   *   $(sSign).on(&#x27;shown&#x27;, function (ev){});
   * &#x60;&#x60;&#x60;
   */

  /**
   * 当hide方法被调用时，此事件被立即触发。
   * @event hide
   * @param {jQuery.Event} ev 事件对象
   * @example
   * &#x60;&#x60;&#x60;javascript
   *   $(sSign).on(&#x27;hide&#x27;, function (ev){});
   * &#x60;&#x60;&#x60;
   */

  /**
   * 当模态对话框被隐藏（而且过渡效果执行完毕）之后，此事件将被触发
   * @event hidden
   * @param {jQuery.Event} ev 事件对象
   * @example
   * &#x60;&#x60;&#x60;javascript
   *   $(sSign).on(&#x27;hidden&#x27;, function (ev){});
   * &#x60;&#x60;&#x60;
   */

  /**
   * @class Modal
   * @constructor
   * @param {String} element jQuery选择器
   */
  var Modal = function (element) {
    this.$element = $(element)
      .delegate(&#x27;[data-dismiss=&quot;modal&quot;]&#x27;, &#x27;click.dismiss.modal&#x27;, $.proxy(this.hide, this))
  }

  Modal.prototype ={
      /**
       * Modal 的一个实例
       * @property {Object} constructor
       */
      constructor: Modal, 
      /**
       * 手工显示/隐藏一个模块框
       * @method toggle
       * @example
       * &#x60;&#x60;&#x60;javascript
       *   $(sSign).modal(&quot;toggle&quot;)
       * &#x60;&#x60;&#x60;
       */
      toggle: function () {
        return this[!this.isShown ? &#x27;show&#x27; : &#x27;hide&#x27;]()
      },
      /**
       * 手工显示模态框
       * @method show
       * @param {Object} options 显示方式配置信息
       * @param {String} options.title 标题
       * @param {Boolean} options.backdrop 是否添加背景元素。=static时，点击模态对话框的外部区域不会将其关闭
       * @param {Boolean} options.keyboard 按Esc 键时是否关闭模态框
       * @param {Boolean} options.show 初始化时即显示模态对话框
       * @param {String} options.remote 如果提供了远程url地址，就会通过 jQuery的load方法加载内容并注入到.modal-body中
       * @param {String} options.content 模态框内显示的文本内容
       * @param {String} options.frame 嵌入模态框内的页面地址
       * @param {String} options.height 模态框内容显示高度 
       * @param {String} options.width 模态框显示宽度
       * @example
       * &#x60;&#x60;&#x60;javascript
       *  //初次显示可用
       *  $(sSign).modal(options);
       *  //以后显示可用
       *  $(sSign).modal(&quot;show&quot;);
       * &#x60;&#x60;&#x60;
       */
      show: function (options) {
        this.options=options;
        var that = this
          , e = $.Event(&#x27;show&#x27;);

        this.$element.trigger(e)

        if (this.isShown || e.isDefaultPrevented()) return

        this.isShown = true

        this.escape()

        this.backdrop(function () {
          var transition = $.support.transition &amp;&amp; that.$element.hasClass(&#x27;fade&#x27;)
          var opt=that.options
            , ele=that.$element
            , elebody=ele.find(&#x27;.modal-body&#x27;)
            , elehead=ele.find(&#x27;.modal-header&gt;button&#x27;)
            // 后缀
            , suf
            // 真实数字
            , num
            //  整体样式
            , hwCss={}
            // body的height样式
            , bhCss;

          if(opt){
            if(opt.height){            
              bhCss={height:opt.height};
            }

            if(opt.width){
              hwCss[&#x27;width&#x27;]=opt.width;

              if(opt.width.substr(opt.width.length-1,1)==&#x27;%&#x27;){
                suf=&quot;%&quot;;
                num=opt.width.substr(0,opt.width.length-1);
              }
              else{
                suf=&quot;px&quot;;
                num=opt.width.substr(0,opt.width.length-2);
              }
              
              hwCss[&#x27;margin-left&#x27;]=(0-num/2)+suf;
            }

            ele.removeAttr(&quot;style&quot;); 
            if(hwCss){
              ele.css(hwCss);

              if(bhCss){
                elebody.css(bhCss);          
              }
            }
            // 设置标题
            if(opt.title){
              var cn=elehead[0].childNodes[0];
              // 如果是文本节点则直接替换，否则追加
              cn.nodeType==3?cn.data=opt.title:elehead.prepend(opt.title);
            }

            // 如果有以下三种情况之一，则清除body内原有信息
            opt.remote||opt.frame||opt.content?elebody.html(&quot;&quot;):&quot;&quot;;
            if(opt.remote){
              elebody.load(that.options.remote);
            }

            if(opt.frame){
              elebody.append(&quot;&lt;iframe frameborder=&#x27;0&#x27; scrolling=&#x27;no&#x27; src=&#x27;&quot;+opt.frame+&quot;&#x27; class=&#x27;w_100 h_100&#x27;&gt;&lt;/iframe&gt;&quot;);
            }
            
            if(opt.content){
              elebody.append(opt.content);
            }
          }
          
          if (!ele.parent().length) {
            ele.appendTo(document.body) //don&#x27;t move modals dom position
          }

          ele.css({&quot;margin-top&quot;:(0-ele.height())/2+&quot;px&quot;});
          ele.show()

          if (transition) {
            ele[0].offsetWidth // force reflow
          }

          ele
            .addClass(&#x27;in&#x27;)
            .attr(&#x27;aria-hidden&#x27;, false)

          that.enforceFocus()

          transition ?
            ele.one($.support.transition.end, function () {ele.focus().trigger(&#x27;shown&#x27;) }) :
            ele.focus().trigger(&#x27;shown&#x27;)

        })
      },
      /**
       * 隐藏模态框
       * @method  hide
       * @param  {Object} e 事件对象
       * @example
       * &#x60;&#x60;&#x60;javascript
       *  $(sSign).modal(&quot;hide&quot;);
       * &#x60;&#x60;&#x60;
       */
      hide: function (e) {
        e &amp;&amp; e.preventDefault()

        var that = this

        e = $.Event(&#x27;hide&#x27;)

        this.$element.trigger(e)

        if (!this.isShown || e.isDefaultPrevented()) return

        this.isShown = false

        this.escape()

        $(document).off(&#x27;focusin.modal&#x27;)

        this.$element
          .removeClass(&#x27;in&#x27;)
          .attr(&#x27;aria-hidden&#x27;, true)

        $.support.transition &amp;&amp; this.$element.hasClass(&#x27;fade&#x27;) ?
          this.hideWithTransition() :
          this.hideModal()
      }, 
      /**
       * 定位到某一个dom对象上
       * @method enforceFocus
       * @private
       */
      enforceFocus: function () {
        var that = this
        $(document).on(&#x27;focusin.modal&#x27;, function (e) {
          if (that.$element[0] !== e.target &amp;&amp; !that.$element.has(e.target).length) {
            that.$element.focus()
          }
        })
      }, 
      /**
       * 根据参数设置,绑定Esc按键事件
       * @method escape
       * @private
       */
      escape: function () {
        var that = this
        if (this.isShown &amp;&amp; this.options &amp;&amp; this.options.keyboard) {
          this.$element.on(&#x27;keyup.dismiss.modal&#x27;, function ( e ) {
            e.which == 27 &amp;&amp; that.hide()
          })
        } else if (!this.isShown) {
          this.$element.off(&#x27;keyup.dismiss.modal&#x27;)
        }
      }, 
      /**
       * 隐藏时显示过度动画
       * @method  hideWithTransition
       * @private
       */
      hideWithTransition: function () {
        var that = this
          , timeout = setTimeout(function () {
              that.$element.off($.support.transition.end)
              that.hideModal()
            }, 500)

        this.$element.one($.support.transition.end, function () {
          clearTimeout(timeout)
          that.hideModal()
        })
      }, 
      /**
       * 隐藏模态窗口
       * @method hideModal
       * @private
       */
      hideModal: function () {
        var that = this
        this.$element.hide()
        this.backdrop(function () {
          that.removeBackdrop()
          that.$element.trigger(&#x27;hidden&#x27;)
        })
      }, 
      /**
       * 移除模态框的背景
       * @method removeBackdrop
       * @private
       */
      removeBackdrop: function () {
        this.$backdrop &amp;&amp; this.$backdrop.remove()
        this.$backdrop = null
      }, 
      /**
       * 生成模态框背景
       * @method backdrop
       * @param  {Function} callback 生成完成之后的回调函数
       * @private
       */
      backdrop: function (callback) {
        var that = this
          , animate = this.$element.hasClass(&#x27;fade&#x27;) ? &#x27;fade&#x27; : &#x27;&#x27;

        if (this.isShown &amp;&amp; this.options &amp;&amp; this.options.backdrop) {
          var doAnimate = $.support.transition &amp;&amp; animate

          this.$backdrop = $(&#x27;&lt;div class=&quot;modal-backdrop &#x27; + animate + &#x27;&quot; /&gt;&#x27;)
            .appendTo(document.body)

          this.$backdrop.click(
            this.options.backdrop == &#x27;static&#x27; ?
              $.proxy(this.$element[0].focus, this.$element[0])
            : $.proxy(this.hide, this)
          )

          if (doAnimate) this.$backdrop[0].offsetWidth // force reflow

          this.$backdrop.addClass(&#x27;in&#x27;)

          if (!callback) return

          doAnimate ?
            this.$backdrop.one($.support.transition.end, callback) :
            callback()

        } else if (!this.isShown &amp;&amp; this.$backdrop) {
          this.$backdrop.removeClass(&#x27;in&#x27;)

          $.support.transition &amp;&amp; this.$element.hasClass(&#x27;fade&#x27;)?
            this.$backdrop.one($.support.transition.end, callback) :
            callback()

        } else if (callback) {
          callback()
        }
      }
  }


 /* MODAL PLUGIN DEFINITION
  * ======================= */

  var old = $.fn.modal

  $.fn.modal = function (option) {
    return this.each(function () {
      var $this = $(this)
        , data = $this.data(&#x27;modal&#x27;)
        , options = $.extend({}, $.fn.modal.defaults, $this.data(), typeof option == &#x27;object&#x27; &amp;&amp; option)
//      if (!data) $this.data(&#x27;modal&#x27;, (data = new Modal(this, options)))
      if (!data) $this.data(&#x27;modal&#x27;, (data = new Modal(this)))
      if (typeof option == &#x27;string&#x27;) data[option]()
      else if (options.show) data.show(options)
    })
  }

  $.fn.modal.defaults = {
      backdrop: true
    , keyboard: true
    , show: true
  }

  $.fn.modal.Constructor = Modal


 /* MODAL NO CONFLICT
  * ================= */

  $.fn.modal.noConflict = function () {
    $.fn.modal = old
    return this
  }


 /* MODAL DATA-API
  * ============== */
  /**
   * data-api 实现
   * @event click.modal.data-api
   * @param {Object} e 事件对象Event
   */

  $(document).on(&#x27;click.modal.data-api&#x27;, &#x27;[data-toggle=&quot;modal&quot;]&#x27;, function (e) {
    var $this = $(this)
      , href = $this.attr(&#x27;href&#x27;)
      , $target = $($this.attr(&#x27;data-target&#x27;) || (href &amp;&amp; href.replace(/.*(?=#[^\s]+$)/, &#x27;&#x27;))) //strip for ie7
      , option = $target.data(&#x27;modal&#x27;) ? &#x27;toggle&#x27; : $.extend({ remote:!/#/.test(href) &amp;&amp; href }, $target.data(), $this.data())

    e.preventDefault()

    $target
      .modal(option)
      .one(&#x27;hide&#x27;, function () {
        $this.focus()
      })
  })

}(window.jQuery);

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
